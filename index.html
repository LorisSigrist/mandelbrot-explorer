<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/src/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + Lit App</title>
  <script type="module" src="/src/mandelbrot-explorer.ts"></script>
</head>

<body>
  <h1>Mandelbrot Explorer</h1>

  <!--Debug Controls-->
  <label>Zoom</label>
  <input id="zoom" type="range" min="1" max="20" value="1" step="0.000001" />

  <label>Focal X</label>
  <input id="focalX" type="range" min="-2" max="2" value="0" step="0.000001" />

  <label>Focal Y</label>
  <input id="focalY" type="range" min="-2" max="2" value="0" step="0.000001" />

  <label>Iterations</label>
  <input id="iterations" type="range" min="1" max="1000" value="500" step="1" />

  <label>Controls</label>
  <input id="controls" type="checkbox" checked />

  <label>Frozen</label>
  <input id="frozen" type="checkbox" />


  <mandelbrot-explorer width="400" height="600" controls/>



  <span>After</span>


  <script>
    const mandelbrot = document.querySelector("mandelbrot-explorer")

    //Get Debug Controls
    const zoom = document.querySelector("#zoom")
    const focalX = document.querySelector("#focalX")
    const focalY = document.querySelector("#focalY")
    const iterations = document.querySelector("#iterations")
    const controls = document.querySelector("#controls")
    const frozen = document.querySelector("#frozen")

    //React to Debug Control Changes
    zoom.oninput = e => {
      mandelbrot.setAttribute("zoom",  Math.pow(2, e.target.value - 1 ?? 1));
    }

    focalX.oninput = e => {
      mandelbrot.setAttribute("focalX", e.target.value ?? 0);
    }

    focalY.oninput = e => {
      mandelbrot.setAttribute("focalY", e.target.value ?? 0);
    }

    iterations.oninput = e => {
      mandelbrot.setAttribute("iterations", e.target.value ?? 0);
    }

    controls.oninput = e => {
      e.target.checked ? 
      mandelbrot.setAttribute("controls", "")
      :mandelbrot.removeAttribute("controls")
    }

    frozen.oninput = e => {
      e.target.checked ? 
      mandelbrot.setAttribute("frozen", "")
      :mandelbrot.removeAttribute("frozen")
    }


  </script>
</body>

</html>